cmake_minimum_required(VERSION 3.0)

project(sqlite3)

set(SA sqlite-amalgamation)

add_library(sqlite3
    ${SA}/sqlite3.c
)

target_include_directories(sqlite3
    PUBLIC ${SA}
)

include(GNUInstallDirs)

set (PHDR "
    ${SA}/sqlite3.h
    ${SA}/sqlite3ext.h
    "
)

set_target_properties(sqlite3 
    PROPERTIES PUBLIC_HEADER ${PHDR}
)

install(TARGETS sqlite3
    PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/sqlite3
    RUNTIME DESTINATION bin
    LIBRARY DESTINATION lib
    ARCHIVE DESTINATION lib
)
